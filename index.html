<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LAST BASTION</title>
  <link rel="stylesheet" href="/src/style.css" />
</head>
<body>
  <div id="game-container">
    <canvas id="game-canvas"></canvas>

    <!-- Main Menu -->
    <div id="main-menu" class="overlay">
      <div class="menu-content">
        <h1 class="game-title">LAST BASTION</h1>
        <p class="subtitle">A Tower Defense</p>
        <button id="btn-start" class="menu-btn">START GAME</button>
        <button id="btn-settings-menu" class="menu-btn secondary">SETTINGS</button>
      </div>
    </div>

    <!-- HUD -->
    <div id="hud" class="hidden">
      <!-- Top Bar -->
      <div id="hud-top">
        <div class="hud-item" id="hud-gold">
          <span class="hud-icon">⬡</span>
          <span id="gold-value">150</span>
        </div>
        <div class="hud-item" id="hud-lives">
          <span class="hud-icon">♦</span>
          <span id="lives-value">20</span>
        </div>
        <div class="hud-item" id="hud-wave">
          <span class="hud-label">WAVE</span>
          <span id="wave-value">1</span>
          <span id="wave-total">/20</span>
        </div>
        <div class="hud-item" id="hud-speed">
          <button id="btn-speed" class="speed-btn">1x</button>
        </div>
        <div class="hud-item" id="hud-next-wave">
          <button id="btn-next-wave" class="next-wave-btn">SEND WAVE</button>
          <span id="wave-timer" class="hidden">15s</span>
        </div>
      </div>

      <!-- Wave Banner -->
      <div id="wave-banner" class="hidden">
        <div class="wave-banner-text">WAVE <span id="banner-wave-num">1</span></div>
        <div class="wave-banner-sub" id="banner-wave-desc"></div>
      </div>

      <!-- Tower Selection Panel (Bottom) -->
      <div id="tower-panel">
        <div class="tower-slot" data-tower="arrow">
          <div class="tower-icon arrow-icon"></div>
          <div class="tower-name">Arrow</div>
          <div class="tower-cost">50g</div>
          <div class="tower-key">1</div>
        </div>
        <div class="tower-slot" data-tower="frost">
          <div class="tower-icon frost-icon"></div>
          <div class="tower-name">Frost</div>
          <div class="tower-cost">75g</div>
          <div class="tower-key">2</div>
        </div>
        <div class="tower-slot" data-tower="cannon">
          <div class="tower-icon cannon-icon"></div>
          <div class="tower-name">Cannon</div>
          <div class="tower-cost">100g</div>
          <div class="tower-key">3</div>
        </div>
        <div class="tower-slot" data-tower="laser">
          <div class="tower-icon laser-icon"></div>
          <div class="tower-name">Laser</div>
          <div class="tower-cost">125g</div>
          <div class="tower-key">4</div>
        </div>
      </div>

      <!-- Tower Info Panel (Right side, shown on tower click) -->
      <div id="tower-info" class="hidden">
        <div class="tower-info-header">
          <span id="info-tower-name">Arrow Tower</span>
          <span id="info-tower-level">Lv 1</span>
        </div>
        <div class="tower-info-stats">
          <div class="stat-row"><span>Damage</span><span id="info-damage">10</span></div>
          <div class="stat-row"><span>Range</span><span id="info-range">5</span></div>
          <div class="stat-row"><span>Speed</span><span id="info-speed">1.0s</span></div>
        </div>
        <button id="btn-upgrade" class="upgrade-btn">UPGRADE <span id="upgrade-cost">75g</span></button>
        <button id="btn-sell" class="sell-btn">SELL <span id="sell-value">30g</span></button>
        <div id="upgrade-preview" class="hidden">
          <div class="stat-row preview"><span>Damage</span><span id="preview-damage">→ 15</span></div>
          <div class="stat-row preview"><span>Range</span><span id="preview-range">→ 6</span></div>
          <div class="stat-row preview"><span>Speed</span><span id="preview-speed">→ 0.8s</span></div>
        </div>
      </div>

      <!-- Wave Preview -->
      <div id="wave-preview" class="hidden">
        <div class="wave-preview-title">NEXT WAVE</div>
        <div id="wave-preview-enemies"></div>
      </div>
    </div>

    <!-- Pause Menu -->
    <div id="pause-menu" class="overlay hidden">
      <div class="menu-content">
        <h2>PAUSED</h2>
        <button id="btn-resume" class="menu-btn">RESUME</button>
        <button id="btn-settings-pause" class="menu-btn secondary">SETTINGS</button>
        <button id="btn-quit" class="menu-btn danger">QUIT TO MENU</button>
      </div>
    </div>

    <!-- Settings -->
    <div id="settings-menu" class="overlay hidden">
      <div class="menu-content">
        <h2>SETTINGS</h2>
        <div class="setting-row">
          <span>Graphics Quality</span>
          <div class="setting-options">
            <button class="setting-btn" data-quality="low">LOW</button>
            <button class="setting-btn active" data-quality="medium">MED</button>
            <button class="setting-btn" data-quality="high">HIGH</button>
          </div>
        </div>
        <div class="setting-row">
          <span>Sound</span>
          <div class="setting-options">
            <button class="setting-btn active" data-sound="on">ON</button>
            <button class="setting-btn" data-sound="off">OFF</button>
          </div>
        </div>
        <button id="btn-settings-back" class="menu-btn">BACK</button>
      </div>
    </div>

    <!-- Victory Screen -->
    <div id="victory-screen" class="overlay hidden">
      <div class="menu-content">
        <h1 class="victory-title">VICTORY</h1>
        <p class="end-subtitle">The bastion stands.</p>
        <div class="end-stats">
          <div class="end-stat"><span>Waves Survived</span><span id="victory-waves">20</span></div>
          <div class="end-stat"><span>Enemies Slain</span><span id="victory-kills">0</span></div>
          <div class="end-stat"><span>Gold Earned</span><span id="victory-gold">0</span></div>
        </div>
        <button id="btn-victory-restart" class="menu-btn">PLAY AGAIN</button>
        <button id="btn-victory-menu" class="menu-btn secondary">MAIN MENU</button>
      </div>
    </div>

    <!-- Defeat Screen -->
    <div id="defeat-screen" class="overlay hidden">
      <div class="menu-content">
        <h1 class="defeat-title">DEFEATED</h1>
        <p class="end-subtitle">The bastion has fallen.</p>
        <div class="end-stats">
          <div class="end-stat"><span>Waves Survived</span><span id="defeat-waves">0</span></div>
          <div class="end-stat"><span>Enemies Slain</span><span id="defeat-kills">0</span></div>
          <div class="end-stat"><span>Gold Earned</span><span id="defeat-gold">0</span></div>
        </div>
        <button id="btn-defeat-restart" class="menu-btn">TRY AGAIN</button>
        <button id="btn-defeat-menu" class="menu-btn secondary">MAIN MENU</button>
      </div>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
